<div class="row">
  <div class="col-xs-6">
    <h1>Polls</h1>
  </div>
  <div class="col-xs-6">
    <p class="text-right">
      <span>Hello {{userName}}!</span> | 
      <a href="/#/new">create a new poll</a> | 
      <a ng-click="logout()" href="/#/login">logout</a>
    </p>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
    <form class="text-right">
      <input type="text" name="filter" placeholder="search for question..." ng-model="filterText">
    </form>
    <table class="table table-striped table-condensed">
      <thead>
        <tr>
          <td>Name</td>
          <td>Survey Question</td>
          <td>Date posted</td>
          <td>Action</td>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="poll in polls | filter: {text: filterText}">
          <td>{{poll._user.name}}</td>
          <td><a href="/#/poll/{{poll._id}}">{{poll.text}}</a></td>
          <td>{{relativeDate(poll.createdAt)}}</td>
          <td><a ng-if="thisUser(poll._user._id)" ng-click="deletePoll(poll._id)" href="/#/index">Delete</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
